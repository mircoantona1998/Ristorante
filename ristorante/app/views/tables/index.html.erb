<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tavoli</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
  <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
</head>
<body>

<h1>Tavoli</h1>
<% if flash[:notice] %>
  <div class="alert alert-success">
    <%= flash[:notice] %>
  </div>
<% end %>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Numero</th>
      <th>Posti</th>
      <th>Disponibilit√†</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  <% @tables.each do |table| %>
    <tr>
      <td><%= table.numero %></td>
      <td><%= table.posti %></td>
      <td>
        <% if table.disponibile %>
          <i class="fas fa-check-circle availability-icon available"></i>
        <% else %>
          <i class="fas fa-times-circle availability-icon unavailable"></i>
        <% end %>
      </td>
      <td class="action-icons">
        <%= link_to edit_table_path(table), class: 'action-icon edit' do %>
          <i class="fas fa-edit"></i>
        <% end %>
        <%= form_with model: table, url: table_path(table), method: :delete, local: true do %>
          <%= button_tag type: 'submit', class: 'btn btn-danger action-icon delete' do %>
            <i class="fas fa-trash"></i>  
          <% end %>
        <% end %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
<%= link_to '<i class="fas fa-plus"></i>'.html_safe, new_table_path, class: 'add-button' %>
<%= link_to '<i class="fas fa-home"></i>'.html_safe, root_path, class: 'home-button' %>

</body>
</html>
